"use strict";(self["webpackChunkmovie_web"]=self["webpackChunkmovie_web"]||[]).push([[72],{3457:function(t,e,a){a.d(e,{Z:function(){return y}});var s=a(3396),n=a(7139);const i=t=>((0,s.dD)("data-v-a1ae8ee0"),t=t(),(0,s.Cn)(),t),l={class:"star-ratings"},r=i((()=>(0,s._)("span",null,"★",-1))),u=i((()=>(0,s._)("span",null,"★",-1))),o=i((()=>(0,s._)("span",null,"★",-1))),c=i((()=>(0,s._)("span",null,"★",-1))),h=i((()=>(0,s._)("span",null,"★",-1))),p=[r,u,o,c,h],g=i((()=>(0,s._)("div",{class:"star-ratings-base"},[(0,s._)("span",null,"★"),(0,s._)("span",null,"★"),(0,s._)("span",null,"★"),(0,s._)("span",null,"★"),(0,s._)("span",null,"★")],-1)));function v(t,e,a,i,r,u){return(0,s.wg)(),(0,s.iD)("div",l,[(0,s._)("div",{class:"star-ratings-fill",style:(0,n.j5)({width:u.ratingToPercent+"%"})},p,4),g])}var d={props:{rating:null},data(){return{}},computed:{ratingToPercent(){const t=10*+this.rating;return t+1.5}}},_=a(89);const m=(0,_.Z)(d,[["render",v],["__scopeId","data-v-a1ae8ee0"]]);var y=m},7072:function(t,e,a){a.r(e),a.d(e,{default:function(){return D}});var s=a(3396),n=a(9242),i=a(7139);const l={ref:"scrollContainer"},r={class:"inner"},u={class:"search-input"},o=["value"],c={class:"movie-list"},h={class:"movie-img"},p=["src"],g={class:"button-group"},v=["onClick"],d={ref:"list"};function _(t,e,a,_,m,y){const f=(0,s.up)("StarRating");return(0,s.wg)(),(0,s.iD)("section",l,[(0,s._)("div",r,[(0,s._)("div",u,[(0,s._)("input",{type:"text",placeholder:"제목을 입력하세요.",value:m.query,onInput:e[0]||(e[0]=(...t)=>y.changeQuery&&y.changeQuery(...t)),onKeydown:e[1]||(e[1]=(0,n.D2)(((...t)=>y.getMovieList&&y.getMovieList(...t)),["enter"]))},null,40,o),(0,s._)("button",{class:"custom",onClick:e[2]||(e[2]=(...t)=>y.getMovieList&&y.getMovieList(...t))},"검색")]),(0,s._)("ul",c,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.searchResult.results,((t,e)=>((0,s.wg)(),(0,s.iD)("li",{key:e},[(0,s._)("div",h,[(0,s._)("img",{src:`https://image.tmdb.org/t/p/original/${t.poster_path}`},null,8,p),(0,s._)("div",g,[(0,s._)("button",{class:"custom",onClick:e=>y.moveDetail(t)}," 상세보기 ",8,v)])]),(0,s.Wm)(f,{rating:t.vote_average},null,8,["rating"]),(0,s._)("h4",null,(0,i.zw)(t.title),1),(0,s._)("h4",null,(0,i.zw)(t.name),1)])))),128))]),(0,s._)("hr",d,null,512)])],512)}a(7658);var m=a(3457),y={name:"SearchMain",mounted(){},components:{StarRating:m.Z},data(){return{type:0,searchResult:{},query:""}},methods:{changeQuery(t){this.query=t.target.value},moveDetail(t){t.title?this.$router.push({name:"MovieDetail",query:{id:`${t.id}`}}):this.$router.push({name:"TvDetail",query:{id:`${t.id}`}})},getMovieList(){this.$axios.get("http://localhost:4000/api/search",{params:{query:this.query}}).then((t=>(this.searchResult={...t.data.list},console.log(t),t)))},moreData(){this.searchResult.total_page!=this.searchResult.page&&this.$axios.get("http://localhost:4000/api/search",{params:{query:this.query,page:Number(this.searchResult.page)+1}}).then((t=>(this.searchResult={...this.searchResult,...t.data.list},console.log(t),t)))}}},f=a(89);const w=(0,f.Z)(y,[["render",_],["__scopeId","data-v-af0a3a38"]]);var D=w}}]);
//# sourceMappingURL=72.6911b427.js.map